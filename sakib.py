import tkinter as tk
from tkinter import ttk
import re
from tkinter.scrolledtext import ScrolledText

class WordCounterApp:
    def __init__(self, root):
            self.root = root
                    self.root.title("Modern Word Counter")
                            self.root.geometry("800x600")
                                    self.root.configure(bg="#f0f2f5")
                                            
                                                    # Configure styles
                                                            style = ttk.Style()
                                                                    style.configure("Counter.TLabel",
                                                                                           background="#ffffff",
                                                                                                                  foreground="#2d3436",
                                                                                                                                         font=("Helvetica", 12),
                                                                                                                                                                padding=10)
                                                                                                                                                                        
                                                                                                                                                                                style.configure("Title.TLabel",
                                                                                                                                                                                                       background="#f0f2f5",
                                                                                                                                                                                                                              foreground="#2d3436",
                                                                                                                                                                                                                                                     font=("Helvetica", 20, "bold"),
                                                                                                                                                                                                                                                                            padding=10)
                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                            # Main title
                                                                                                                                                                                                                                                                                                    title_label = ttk.Label(
                                                                                                                                                                                                                                                                                                                root,
                                                                                                                                                                                                                                                                                                                            text="✍️ Word Counter",
                                                                                                                                                                                                                                                                                                                                        style="Title.TLabel"
                                                                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                                                                                        title_label.pack(pady=20)
                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                        # Create main container
                                                                                                                                                                                                                                                                                                                                                                                main_frame = ttk.Frame(root)
                                                                                                                                                                                                                                                                                                                                                                                        main_frame.pack(fill=tk.BOTH, expand=True, padx=20, pady=10)
                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                        # Text input area
                                                                                                                                                                                                                                                                                                                                                                                                                self.text_input = ScrolledText(
                                                                                                                                                                                                                                                                                                                                                                                                                            main_frame,
                                                                                                                                                                                                                                                                                                                                                                                                                                        font=("Helvetica", 12),
                                                                                                                                                                                                                                                                                                                                                                                                                                                    wrap=tk.WORD,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                width=40,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            height=10,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        bg="white",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    fg="#2d3436"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    self.text_input.pack(fill=tk.BOTH, expand=True, pady=10)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    # Create stats frame
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            stats_frame = ttk.Frame(main_frame)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    stats_frame.pack(fill=tk.X, pady=20)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    # Stats boxes
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            self.create_stat_box(stats_frame, "Words", 0)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    self.create_stat_box(stats_frame, "Characters", 1)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            self.create_stat_box(stats_frame, "Sentences", 2)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    self.create_stat_box(stats_frame, "Paragraphs", 3)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    # Bind text changes to update stats
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            self.text_input.bind('<KeyRelease>', self.update_stats)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            # Initial stat update
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    self.update_stats(None)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    # Add clear button
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            clear_button = tk.Button(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        main_frame,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    text="Clear Text",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                command=self.clear_text,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            bg="#e74c3c",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        fg="white",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    font=("Helvetica", 10),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                relief=tk.FLAT,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            padx=20,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        pady=5
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        clear_button.pack(pady=10)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                def create_stat_box(self, parent, title, column):
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        frame = ttk.Frame(parent, style="Counter.TLabel")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                frame.grid(row=0, column=column, padx=10, sticky="nsew")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ttk.Label(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            frame,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        text=title,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    style="Counter.TLabel"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ).pack()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            label = ttk.Label(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        frame,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    text="0",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                style="Counter.TLabel"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                label.pack()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                setattr(self, f"{title.lower()}_label", label)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        parent.grid_columnconfigure(column, weight=1)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                def update_stats(self, event):
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        text = self.text_input.get("1.0", tk.END).strip()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # Count words
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                words = len(re.findall(r'\w+', text))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        self.words_label.config(text=str(words))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # Count characters
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                chars = len(text)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        self.characters_label.config(text=str(chars))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # Count sentences
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                sentences = len(re.findall(r'[.!?]+', text))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        self.sentences_label.config(text=str(sentences))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # Count paragraphs
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                paragraphs = len([p for p in text.split('\n\n') if p.strip()])
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        self.paragraphs_label.config(text=str(paragraphs))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                def clear_text(self):
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        self.text_input.delete("1.0", tk.END)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                self.update_stats(None)

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if __name__ == "__main__":
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    root = tk.Tk()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        app = WordCounterApp(root)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            root.mainloop()